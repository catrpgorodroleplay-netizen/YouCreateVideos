<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CREATE - –í–∏–¥–µ–æ –•–æ—Å—Ç–∏–Ω–≥</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: Arial; }
        body { background: #0f0f0f; color: white; padding: 20px; }
        
        /* Header */
        .header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px; }
        .logo { color: #ff0000; font-size: 32px; font-weight: bold; cursor: pointer; }
        .create-btn { background: #ff0000; color: white; padding: 12px 24px; border: none; border-radius: 4px; cursor: pointer; font-size: 16px; }
        
        /* Upload Form */
        .upload-form { 
            display: none;
            position: fixed; 
            top: 50%; 
            left: 50%; 
            transform: translate(-50%, -50%); 
            background: #282828; 
            padding: 30px; 
            border-radius: 8px; 
            z-index: 1000; 
            width: 90%; 
            max-width: 500px; 
        }
        .form-group { margin-bottom: 20px; }
        label { display: block; margin-bottom: 8px; font-weight: bold; }
        input, textarea { width: 100%; padding: 12px; background: #404040; border: 1px solid #555; border-radius: 4px; color: white; }
        textarea { height: 100px; resize: vertical; }
        .submit-btn { background: #ff0000; color: white; padding: 15px; border: none; border-radius: 4px; cursor: pointer; width: 100%; font-size: 16px; }
        .cancel-btn { background: #666; color: white; padding: 15px; border: none; border-radius: 4px; cursor: pointer; width: 100%; margin-top: 10px; }
        
        /* Video Grid */
        .video-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 20px; }
        .video-card { background: #282828; border-radius: 8px; overflow: hidden; }
        .video-player { width: 100%; height: 200px; background: #000; }
        .video-info { padding: 15px; }
        .video-title { font-size: 18px; margin-bottom: 8px; }
        .video-description { color: #aaa; margin-bottom: 8px; font-size: 14px; }
        .video-views { color: #888; font-size: 14px; }
        
        /* Overlay */
        .overlay { 
            display: none; 
            position: fixed; 
            top: 0; left: 0; 
            width: 100%; 
            height: 100%; 
            background: rgba(0,0,0,0.8); 
            z-index: 999; 
        }
    </style>
</head>
<body>
    <!-- Header -->
    <div class="header">
        <div class="logo" onclick="showHomePage()">CREATE</div>
        <button class="create-btn" onclick="showUploadForm()">
            üìπ –°–û–ó–î–ê–¢–¨ –í–ò–î–ï–û
        </button>
    </div>

    <!-- Video Grid -->
    <div class="video-grid" id="videoGrid">
        <div style="text-align: center; grid-column: 1 / -1; color: #888;">
            üé¨ –ó–∞–≥—Ä—É–∑–∏—Ç–µ –ø–µ—Ä–≤–æ–µ –≤–∏–¥–µ–æ!
        </div>
    </div>

    <!-- Upload Form -->
    <div class="overlay" id="overlay" onclick="hideUploadForm()"></div>
    <div class="upload-form" id="uploadForm">
        <h2 style="text-align: center; margin-bottom: 20px;">üìπ –°–û–ó–î–ê–¢–¨ –ù–û–í–û–ï –í–ò–î–ï–û</h2>
        <form id="uploadFormElement">
            <div class="form-group">
                <label>–ù–∞–∑–≤–∞–Ω–∏–µ –≤–∏–¥–µ–æ:</label>
                <input type="text" id="videoTitle" required>
            </div>
            
            <div class="form-group">
                <label>–û–ø–∏—Å–∞–Ω–∏–µ:</label>
                <textarea id="videoDescription"></textarea>
            </div>
            
            <div class="form-group">
                <label>–í—ã–±–µ—Ä–∏—Ç–µ –≤–∏–¥–µ–æ —Ñ–∞–π–ª:</label>
                <input type="file" id="videoFile" accept="video/*" required>
                <div style="margin-top: 10px;">
                    <video id="videoPreview" controls style="max-width: 100%; max-height: 200px; display: none;"></video>
                </div>
            </div>
            
            <button type="submit" class="submit-btn">üöÄ –û–ü–£–ë–õ–ò–ö–û–í–ê–¢–¨ –í–ò–î–ï–û</button>
            <button type="button" class="cancel-btn" onclick="hideUploadForm()">‚ùå –û–¢–ú–ï–ù–ê</button>
        </form>
    </div>

    <script>
        // –ë–ê–ó–ê –î–ê–ù–ù–´–• –≤ LocalStorage
        const DB_KEY = 'create_videos';
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
        function initDatabase() {
            if (!localStorage.getItem(DB_KEY)) {
                localStorage.setItem(DB_KEY, JSON.stringify([]));
            }
        }
        
        // –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –≤–∏–¥–µ–æ
        function getVideos() {
            return JSON.parse(localStorage.getItem(DB_KEY)) || [];
        }
        
        // –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤–∏–¥–µ–æ
        function saveVideo(videoData) {
            const videos = getVideos();
            const newVideo = {
                id: Date.now(),
                title: videoData.title,
                description: videoData.description,
                filename: videoData.filename,
                videoUrl: videoData.videoUrl,
                views: 0,
                uploadDate: new Date().toLocaleDateString('ru-RU')
            };
            
            videos.unshift(newVideo);
            localStorage.setItem(DB_KEY, JSON.stringify(videos));
            return newVideo;
        }
        
        // –£–≤–µ–ª–∏—á–∏—Ç—å –ø—Ä–æ—Å–º–æ—Ç—Ä—ã
        function incrementViews(videoId) {
            const videos = getVideos();
            const videoIndex = videos.findIndex(v => v.id === videoId);
            if (videoIndex !== -1) {
                videos[videoIndex].views++;
                localStorage.setItem(DB_KEY, JSON.stringify(videos));
            }
        }
        
        // –ü–æ–∫–∞–∑–∞—Ç—å —Ñ–æ—Ä–º—É –∑–∞–≥—Ä—É–∑–∫–∏
        function showUploadForm() {
            document.getElementById('uploadForm').style.display = 'block';
            document.getElementById('overlay').style.display = 'block';
        }
        
        // –°–∫—Ä—ã—Ç—å —Ñ–æ—Ä–º—É –∑–∞–≥—Ä—É–∑–∫–∏
        function hideUploadForm() {
            document.getElementById('uploadForm').style.display = 'none';
            document.getElementById('overlay').style.display = 'none';
            document.getElementById('uploadFormElement').reset();
            document.getElementById('videoPreview').style.display = 'none';
        }
        
        // –ü–æ–∫–∞–∑–∞—Ç—å –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
        function showHomePage() {
            hideUploadForm();
            loadVideos();
        }
        
        // –ó–∞–≥—Ä—É–∑–∏—Ç—å –≤–∏–¥–µ–æ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
        function loadVideos() {
            const videos = getVideos();
            const videoGrid = document.getElementById('videoGrid');
            
            if (videos.length === 0) {
                videoGrid.innerHTML = '<div style="text-align: center; grid-column: 1 / -1; color: #888;">üé¨ –ó–∞–≥—Ä—É–∑–∏—Ç–µ –ø–µ—Ä–≤–æ–µ –≤–∏–¥–µ–æ!</div>';
                return;
            }
            
            videoGrid.innerHTML = videos.map(video => `
                <div class="video-card">
                    <video class="video-player" controls onclick="incrementViews(${video.id})">
                        <source src="${video.videoUrl}" type="video/mp4">
                        –í–∞—à –±—Ä–∞—É–∑–µ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≤–∏–¥–µ–æ.
                    </video>
                    <div class="video-info">
                        <div class="video-title">${video.title}</div>
                        <div class="video-description">${video.description || '–ù–µ—Ç –æ–ø–∏—Å–∞–Ω–∏—è'}</div>
                        <div class="video-views">üëÅÔ∏è ${video.views} –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤ ‚Ä¢ üìÖ ${video.uploadDate}</div>
                    </div>
                </div>
            `).join('');
        }
        
        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π
        document.getElementById('videoFile').addEventListener('change', function(e) {
            const file = e.target.files[0];
            if (file) {
                const videoPreview = document.getElementById('videoPreview');
                videoPreview.src = URL.createObjectURL(file);
                videoPreview.style.display = 'block';
            }
        });
        
        document.getElementById('uploadFormElement').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const title = document.getElementById('videoTitle').value;
            const description = document.getElementById('videoDescription').value;
            const videoFile = document.getElementById('videoFile').files[0];
            
            if (!videoFile) {
                alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ –≤–∏–¥–µ–æ —Ñ–∞–π–ª!');
                return;
            }
            
            // –°–æ–∑–¥–∞–µ–º –≤—Ä–µ–º–µ–Ω–Ω—É—é —Å—Å—ã–ª–∫—É –Ω–∞ –≤–∏–¥–µ–æ
            const videoUrl = URL.createObjectURL(videoFile);
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
            const videoData = {
                title: title,
                description: description,
                filename: videoFile.name,
                videoUrl: videoUrl
            };
            
            saveVideo(videoData);
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
            hideUploadForm();
            loadVideos();
            
            alert('‚úÖ –í–∏–¥–µ–æ —É—Å–ø–µ—à–Ω–æ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–æ!');
        });
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        document.addEventListener('DOMContentLoaded', function() {
            initDatabase();
            loadVideos();
        });
    </script>
</body>
</html>
